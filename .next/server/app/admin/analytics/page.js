(()=>{var e={};e.id=8668,e.ids=[8668],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},87069:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d}),a(40648),a(9457),a(88881),a(11930),a(35866);var t=a(23191),l=a(88716),r=a(37922),i=a.n(r),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["admin",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,40648)),"/workspace/src/app/admin/analytics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9457)),"/workspace/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,88881)),"/workspace/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,11930)),"/workspace/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/workspace/src/app/admin/analytics/page.tsx"],x="/admin/analytics/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/analytics/page",pathname:"/admin/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},89349:(e,s,a)=>{Promise.resolve().then(a.bind(a,83880))},31540:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},26409:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]])},33734:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},53468:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},17069:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},83880:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>w});var t=a(10326),l=a(17577),r=a(29752),i=a(91664),n=a(29280),c=a(17069),d=a(76557);let o=(0,d.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var x=a(76464);let m=(0,d.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=a(31540),p=a(26409),u=a(34565),j=a(24061),g=a(53468);let y=(0,d.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var v=a(48705),f=a(33734),N=a(37358);function w(){let[e,s]=(0,l.useState)(null),[a,d]=(0,l.useState)(!0),[w,b]=(0,l.useState)("30d"),[k,Z]=(0,l.useState)(!1),R=async()=>{try{d(!0);let e=await fetch(`/api/admin/analytics?period=${w}`);if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching analytics:",e)}finally{d(!1),Z(!1)}},P=({title:e,value:s,change:a,icon:l,color:i="blue"})=>t.jsx(r.Zb,{children:t.jsx(r.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s}),a&&(0,t.jsxs)("p",{className:`text-sm flex items-center gap-1 ${a.startsWith("+")?"text-green-600":"text-red-600"}`,children:[a.startsWith("+")?t.jsx(c.Z,{className:"w-4 h-4"}):t.jsx(o,{className:"w-4 h-4"}),a]})]}),t.jsx("div",{className:`p-3 rounded-full bg-${i}-100`,children:t.jsx(l,{className:`w-6 h-6 text-${i}-600`})})]})})});return a?(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Business intelligence and performance metrics"})]})}),(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"loading-pulse mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})]}):e?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Business intelligence and performance metrics"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(n.Ph,{value:w,onValueChange:b,children:[t.jsx(n.i4,{className:"w-32",children:t.jsx(n.ki,{placeholder:"Period"})}),(0,t.jsxs)(n.Bw,{children:[t.jsx(n.Ql,{value:"7d",children:"Last 7 days"}),t.jsx(n.Ql,{value:"30d",children:"Last 30 days"}),t.jsx(n.Ql,{value:"90d",children:"Last 90 days"}),t.jsx(n.Ql,{value:"1y",children:"Last year"})]})]}),(0,t.jsxs)(i.z,{variant:"outline",onClick:()=>{Z(!0),R()},disabled:k,children:[t.jsx(m,{className:`w-4 h-4 mr-2 ${k?"animate-spin":""}`}),"Refresh"]}),(0,t.jsxs)(i.z,{children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(P,{title:"Total Revenue",value:`€${e.overview.totalRevenue.toLocaleString()}`,change:"+12.5%",icon:p.Z,color:"green"}),t.jsx(P,{title:"Total Orders",value:e.overview.totalOrders.toLocaleString(),change:"+8.3%",icon:u.Z,color:"blue"}),t.jsx(P,{title:"Total Customers",value:e.overview.totalCustomers.toLocaleString(),change:"+15.2%",icon:j.Z,color:"purple"}),t.jsx(P,{title:"Conversion Rate",value:`${e.overview.conversionRate}%`,change:"+2.1%",icon:g.Z,color:"cyan"}),t.jsx(P,{title:"Average Order Value",value:`€${e.overview.averageOrderValue}`,change:"+5.7%",icon:c.Z,color:"orange"}),t.jsx(P,{title:"Returning Customers",value:e.overview.returningCustomers.toLocaleString(),change:"+18.9%",icon:m,color:"indigo"})]}),(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[t.jsx(x.Z,{className:"w-5 h-5"}),"Revenue Overview"]})}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:e.revenueChart.map((e,s)=>(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("div",{className:"bg-blue-500 mx-auto rounded-t",style:{height:`${Math.max(e.revenue/35e3*120,20)}px`,width:"40px"}}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.month})]}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:["€",e.revenue.toLocaleString()]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.orders," orders"]})]},s))})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[t.jsx(y,{className:"w-5 h-5"}),"Customer Demographics"]})}),t.jsx(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Age Groups"}),t.jsx("div",{className:"space-y-2",children:e.customerDemographics.ageGroups.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:e.range}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.percentage}%`}})}),(0,t.jsxs)("span",{className:"text-sm font-medium w-8",children:[e.percentage,"%"]})]})]},s))})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Top Regions"}),t.jsx("div",{className:"space-y-2",children:e.customerDemographics.regions.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:e.city}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm font-medium",children:[e.customers," customers"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.orders," orders"]})]})]},s))})]})]})})]}),(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-2",children:[t.jsx(v.Z,{className:"w-5 h-5"}),"Repair Service Analytics"]})}),t.jsx(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.repairAnalytics.totalRepairs}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total Repairs"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.repairAnalytics.averageRepairTime}),t.jsx("div",{className:"text-sm text-gray-600",children:"Avg Repair Time"})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(f.Z,{className:"w-5 h-5 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-2xl font-bold",children:e.repairAnalytics.customerSatisfaction}),t.jsx("span",{className:"text-gray-600",children:"/5.0"})]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Customer Satisfaction"})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Common Issues"}),t.jsx("div",{className:"space-y-2",children:e.repairAnalytics.mostCommonIssues.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:e.issue}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${e.percentage}%`}})}),(0,t.jsxs)("span",{className:"text-sm font-medium w-8",children:[e.percentage,"%"]})]})]},s))})]})]})})]})]}),(0,t.jsxs)(r.Zb,{children:[t.jsx(r.Ol,{children:t.jsx(r.ll,{children:"Quick Actions"})}),t.jsx(r.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(i.z,{variant:"outline",className:"flex items-center gap-2",children:[t.jsx(h.Z,{className:"w-4 h-4"}),"Export Customer Data"]}),(0,t.jsxs)(i.z,{variant:"outline",className:"flex items-center gap-2",children:[t.jsx(x.Z,{className:"w-4 h-4"}),"Generate Report"]}),(0,t.jsxs)(i.z,{variant:"outline",className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"w-4 h-4"}),"Schedule Report"]}),(0,t.jsxs)(i.z,{variant:"outline",className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"w-4 h-4"}),"Set KPI Goals"]})]})})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(x.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Failed to load analytics data"}),t.jsx(i.z,{onClick:R,className:"mt-4",children:"Try Again"})]})}},29280:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>m,Ph:()=>d,Ql:()=>h,i4:()=>x,ki:()=>o});var t=a(10326),l=a(17577),r=a(13048),i=a(941),n=a(32933),c=a(51223);let d=r.fC;r.ZA;let o=r.B4,x=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(r.xz,{ref:l,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-sm ring-offset-background placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-white",e),...a,children:[s,t.jsx(r.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=r.xz.displayName;let m=l.forwardRef(({className:e,children:s,position:a="popper",...l},i)=>t.jsx(r.h_,{children:t.jsx(r.VY,{ref:i,className:(0,c.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-600 bg-gray-800 text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:t.jsx(r.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})}));m.displayName=r.VY.displayName,l.forwardRef(({className:e,...s},a)=>t.jsx(r.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=r.__.displayName;let h=l.forwardRef(({className:e,children:s,...a},l)=>(0,t.jsxs)(r.ck,{ref:l,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-700 focus:text-cyan-400 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(r.wU,{children:t.jsx(n.Z,{className:"h-4 w-4"})})}),t.jsx(r.eT,{children:s})]}));h.displayName=r.ck.displayName,l.forwardRef(({className:e,...s},a)=>t.jsx(r.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-gray-600",e),...s})).displayName=r.Z0.displayName},51223:(e,s,a)=>{"use strict";a.d(s,{cn:()=>r});var t=a(41135),l=a(31009);function r(...e){return(0,l.m6)((0,t.W)(e))}},40648:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/workspace/src/app/admin/analytics/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[9276,5347,9735,434,9642,5090,2110,5793,5518],()=>a(87069));module.exports=t})();