(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6418],{2973:function(e,s,r){Promise.resolve().then(r.bind(r,4128))},4128:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return u}});var t=r(7437),a=r(2265);function n(e){let{data:s,title:r,valueKey:a,labelKey:n}=e,l=Math.max(...s.map(e=>e[a]));return(0,t.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:r}),(0,t.jsx)("div",{className:"h-64 flex items-end space-x-2",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-full bg-gradient-to-t from-cyan-500 to-cyan-400 rounded-t",style:{height:"".concat(e[a]/l*200,"px"),minHeight:"4px"}}),(0,t.jsx)("span",{className:"text-xs text-gray-400 mt-2 transform -rotate-45 origin-top-left",children:e[n]})]},s))})]})}function l(e){let{data:s,title:r,valueKey:a,labelKey:n,color:l="cyan"}=e,i=Math.max(...s.map(e=>e[a])),c={cyan:"from-cyan-500 to-cyan-400",orange:"from-orange-500 to-orange-400",purple:"from-purple-500 to-purple-400",green:"from-green-500 to-green-400"};return(0,t.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:r}),(0,t.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 w-24 text-right",children:e[n]}),(0,t.jsxs)("div",{className:"flex-1 bg-gray-700 rounded-full h-6 relative",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r ".concat(c[l]," h-full rounded-full transition-all duration-1000"),style:{width:"".concat(e[a]/i*100,"%")}}),(0,t.jsx)("span",{className:"absolute right-2 top-0 h-full flex items-center text-xs text-white",children:e[a]})]})]},s))})]})}function i(e){let{data:s,title:r,valueKey:a,labelKey:n}=e,l=s.reduce((e,s)=>e+s[a],0),i=0,c=["#00f5ff","#ff6b35","#8b5cf6","#10b981","#f59e0b","#ef4444"];return(0,t.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:r}),(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsxs)("div",{className:"relative w-40 h-40",children:[(0,t.jsx)("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:s.map((e,s)=>{let r=e[a]/l*100,n="".concat(r," ").concat(100-r),o=-i;return i+=r,(0,t.jsx)("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:c[s%c.length],strokeWidth:"8",strokeDasharray:n,strokeDashoffset:o,className:"transition-all duration-1000"},s)})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:l}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Total"})]})})]}),(0,t.jsx)("div",{className:"ml-6 space-y-2",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c[s%c.length]}}),(0,t.jsx)("span",{className:"text-sm text-gray-300",children:e[n]}),(0,t.jsx)("span",{className:"text-sm text-white font-semibold",children:e[a]})]},s))})]})]})}function c(e){let{title:s,value:r,change:a,icon:n,color:l="cyan"}=e;return(0,t.jsxs)("div",{className:"bg-gray-900/50 border rounded-lg p-6 ".concat({cyan:"border-cyan-500/30 bg-cyan-500/10",orange:"border-orange-500/30 bg-orange-500/10",purple:"border-purple-500/30 bg-purple-500/10",green:"border-green-500/30 bg-green-500/10"}[l]),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:s}),(0,t.jsx)("span",{className:"text-2xl ".concat({cyan:"text-cyan-400",orange:"text-orange-400",purple:"text-purple-400",green:"text-green-400"}[l]),children:n})]}),(0,t.jsx)("div",{className:"flex items-end justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:r}),a&&(0,t.jsxs)("div",{className:"text-sm ".concat(a>0?"text-green-400":"text-red-400"),children:[a>0?"↗":"↘"," ",Math.abs(a),"%"]})]})})]})}function o(){let[e]=(0,a.useState)([{id:1,type:"order",message:"New order #ORD-2024-347 - €2,899",time:"2 min ago",user:"Ardit Gashi"},{id:2,type:"repair",message:"Repair completed #RPR-2024-089",time:"5 min ago",user:"Tech Team"},{id:3,type:"user",message:"New customer registration",time:"12 min ago",user:"Blerta Krasniqi"},{id:4,type:"order",message:"Order shipped #ORD-2024-345",time:"18 min ago",user:"Fulfillment"},{id:5,type:"payment",message:"Payment received €1,599",time:"25 min ago",user:"Stripe"},{id:6,type:"support",message:"New support ticket created",time:"32 min ago",user:"Dren Musliu"}]),s={order:"\uD83D\uDED2",repair:"\uD83D\uDD27",user:"\uD83D\uDC64",payment:"\uD83D\uDCB3",support:"\uD83D\uDCAC"};return(0,t.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Live Activity Feed"}),(0,t.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-700/30 rounded",children:[(0,t.jsx)("span",{className:"text-lg",children:s[e.type]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-white text-sm",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["by ",e.user]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]})]})]},e.id))})]})}function d(e){let{selectedPeriod:s,onPeriodChange:r}=e;return(0,t.jsx)("div",{className:"flex space-x-2",children:[{id:"7d",label:"Last 7 Days"},{id:"30d",label:"Last 30 Days"},{id:"90d",label:"Last 3 Months"},{id:"1y",label:"Last Year"}].map(e=>(0,t.jsx)("button",{onClick:()=>r(e.id),className:"px-3 py-1 rounded text-sm transition-colors ".concat(s===e.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e.label},e.id))})}function u(){let[e,s]=(0,a.useState)("30d"),[r,u]=(0,a.useState)("overview"),[m,x]=(0,a.useState)(null),[g,h]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{h(!0);let s=await fetch("/api/admin/analytics?period=".concat(e)),r=await s.json();x(r)}catch(e){console.error("Error fetching analytics:",e),x({overview:{totalRevenue:125450,totalOrders:347,totalCustomers:892,conversionRate:3.2,averageOrderValue:361,returningCustomers:234},revenueChart:[{month:"Jan",revenue:18500,orders:42},{month:"Feb",revenue:22300,orders:56},{month:"Mar",revenue:19800,orders:48},{month:"Apr",revenue:25200,orders:67},{month:"May",revenue:28100,orders:73},{month:"Jun",revenue:31550,orders:85}],customerDemographics:{ageGroups:[{range:"18-24",count:234,percentage:26},{range:"25-34",count:312,percentage:35},{range:"35-44",count:198,percentage:22},{range:"45-54",count:89,percentage:10},{range:"55+",count:59,percentage:7}],regions:[{city:"Prishtina",customers:287,orders:156},{city:"Prizren",customers:124,orders:78},{city:"Peja",customers:98,orders:45},{city:"Gjilan",customers:87,orders:34},{city:"Ferizaj",customers:76,orders:28},{city:"Other",customers:220,orders:89}]},repairAnalytics:{totalRepairs:89,averageRepairTime:"4.5 days",customerSatisfaction:4.7,mostCommonIssues:[{issue:"Performance Issues",count:34,percentage:38},{issue:"Hardware Problems",count:18,percentage:20},{issue:"Software Issues",count:15,percentage:17},{issue:"Gaming Issues",count:12,percentage:13},{issue:"Other",count:10,percentage:12}]}})}finally{h(!1)}})()},[e]),g||!m)?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"loading-spinner mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading analytics..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-cyan-400 mb-2",children:"Analytics Dashboard"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Business intelligence and performance metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(d,{selectedPeriod:e,onPeriodChange:s}),(0,t.jsx)("button",{className:"px-4 py-2 bg-green-500/20 text-green-400 border border-green-500/30 rounded hover:bg-green-500/30 transition-colors",children:"Export Report"})]})]}),(0,t.jsx)("div",{className:"flex space-x-1 mb-8 bg-gray-800/50 p-1 rounded-lg",children:[{id:"overview",name:"Overview",icon:"\uD83D\uDCCA"},{id:"sales",name:"Sales",icon:"\uD83D\uDCB0"},{id:"customers",name:"Customers",icon:"\uD83D\uDC65"},{id:"products",name:"Products",icon:"\uD83D\uDCE6"},{id:"repairs",name:"Repairs",icon:"\uD83D\uDD27"}].map(e=>(0,t.jsxs)("button",{onClick:()=>u(e.id),className:"flex-1 px-4 py-2 rounded text-sm font-medium transition-colors ".concat(r===e.id?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-white hover:bg-gray-700/50"),children:[e.icon," ",e.name]},e.id))}),"overview"===r&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(c,{title:"Total Revenue",value:"€".concat(m.overview.totalRevenue.toLocaleString()),change:8.2,icon:"\uD83D\uDCB0",color:"green"}),(0,t.jsx)(c,{title:"Total Orders",value:m.overview.totalOrders,change:12.5,icon:"\uD83D\uDED2",color:"cyan"}),(0,t.jsx)(c,{title:"Total Customers",value:m.overview.totalCustomers,change:15.3,icon:"\uD83D\uDC65",color:"purple"}),(0,t.jsx)(c,{title:"Conversion Rate",value:"".concat(m.overview.conversionRate,"%"),change:-.8,icon:"\uD83D\uDCC8",color:"orange"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(n,{data:m.revenueChart,title:"Revenue Trend",valueKey:"revenue",labelKey:"month"}),(0,t.jsx)(i,{data:m.customerDemographics.ageGroups,title:"Customer Age Distribution",valueKey:"count",labelKey:"range"}),(0,t.jsx)(l,{data:m.productPerformance,title:"Top Products by Sales",valueKey:"sales",labelKey:"name",color:"purple"}),(0,t.jsx)(o,{})]})]}),"sales"===r&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(c,{title:"Total Revenue",value:"€".concat(m.overview.totalRevenue.toLocaleString()),change:8.2,icon:"\uD83D\uDCB0",color:"green"}),(0,t.jsx)(c,{title:"Average Order Value",value:"€".concat(m.overview.averageOrderValue),change:5.1,icon:"\uD83D\uDCCA",color:"cyan"}),(0,t.jsx)(c,{title:"Orders This Month",value:m.revenueChart[m.revenueChart.length-1].orders,change:18.4,icon:"\uD83D\uDCE6",color:"orange"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(n,{data:m.salesTrends.daily,title:"Daily Sales",valueKey:"sales",labelKey:"date"}),(0,t.jsx)(n,{data:m.salesTrends.hourly,title:"Hourly Sales Pattern",valueKey:"orders",labelKey:"hour"})]})]}),"customers"===r&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(c,{title:"Total Customers",value:m.overview.totalCustomers,change:15.3,icon:"\uD83D\uDC65",color:"purple"}),(0,t.jsx)(c,{title:"Returning Customers",value:m.overview.returningCustomers,change:22.7,icon:"\uD83D\uDD04",color:"green"}),(0,t.jsx)(c,{title:"Customer Retention",value:"68.5%",change:3.2,icon:"❤️",color:"cyan"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(i,{data:m.customerDemographics.ageGroups,title:"Age Distribution",valueKey:"count",labelKey:"range"}),(0,t.jsx)(l,{data:m.customerDemographics.regions,title:"Customers by Region",valueKey:"customers",labelKey:"city",color:"orange"})]})]}),"products"===r&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(l,{data:m.productPerformance,title:"Product Sales Volume",valueKey:"sales",labelKey:"name",color:"cyan"}),(0,t.jsx)(l,{data:m.productPerformance,title:"Revenue by Product",valueKey:"revenue",labelKey:"name",color:"green"})]}),(0,t.jsxs)("div",{className:"bg-gray-800/50 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Product Performance Details"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-4 text-gray-300",children:"Product"}),(0,t.jsx)("th",{className:"text-left p-4 text-gray-300",children:"Sales"}),(0,t.jsx)("th",{className:"text-left p-4 text-gray-300",children:"Revenue"}),(0,t.jsx)("th",{className:"text-left p-4 text-gray-300",children:"Margin"}),(0,t.jsx)("th",{className:"text-left p-4 text-gray-300",children:"Profit"})]})}),(0,t.jsx)("tbody",{children:m.productPerformance.map((e,s)=>(0,t.jsxs)("tr",{className:"border-t border-gray-700",children:[(0,t.jsx)("td",{className:"p-4 text-white",children:e.name}),(0,t.jsx)("td",{className:"p-4 text-gray-300",children:e.sales}),(0,t.jsxs)("td",{className:"p-4 text-green-400",children:["€",e.revenue.toLocaleString()]}),(0,t.jsxs)("td",{className:"p-4 text-cyan-400",children:[(100*e.margin).toFixed(1),"%"]}),(0,t.jsxs)("td",{className:"p-4 text-green-400",children:["€",(e.revenue*e.margin).toLocaleString()]})]},s))})]})})]})]}),"repairs"===r&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(c,{title:"Total Repairs",value:m.repairAnalytics.totalRepairs,change:12.3,icon:"\uD83D\uDD27",color:"orange"}),(0,t.jsx)(c,{title:"Avg Repair Time",value:m.repairAnalytics.averageRepairTime,change:-8.5,icon:"⏱️",color:"green"}),(0,t.jsx)(c,{title:"Customer Satisfaction",value:"".concat(m.repairAnalytics.customerSatisfaction,"/5"),change:2.1,icon:"⭐",color:"purple"}),(0,t.jsx)(c,{title:"Repair Revenue",value:"€15,430",change:18.7,icon:"\uD83D\uDCB0",color:"cyan"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(i,{data:m.repairAnalytics.mostCommonIssues,title:"Most Common Issues",valueKey:"count",labelKey:"issue"}),(0,t.jsxs)("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Repair Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700/30 rounded",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"First Response Time"}),(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"2.3 hours"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700/30 rounded",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Resolution Rate"}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"94.2%"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700/30 rounded",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Repeat Issues"}),(0,t.jsx)("span",{className:"text-orange-400 font-semibold",children:"3.1%"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700/30 rounded",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Warranty Claims"}),(0,t.jsx)("span",{className:"text-purple-400 font-semibold",children:"1.8%"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-12 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-500/30 rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("button",{className:"px-4 py-3 bg-cyan-500/20 text-cyan-400 border border-cyan-500/30 rounded hover:bg-cyan-500/30 transition-colors",children:"\uD83D\uDCCA Generate Custom Report"}),(0,t.jsx)("button",{className:"px-4 py-3 bg-green-500/20 text-green-400 border border-green-500/30 rounded hover:bg-green-500/30 transition-colors",children:"\uD83D\uDCE7 Email Report"}),(0,t.jsx)("button",{className:"px-4 py-3 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded hover:bg-purple-500/30 transition-colors",children:"\uD83D\uDCC5 Schedule Report"}),(0,t.jsx)("button",{className:"px-4 py-3 bg-orange-500/20 text-orange-400 border border-orange-500/30 rounded hover:bg-orange-500/30 transition-colors",children:"\uD83D\uDD14 Set Alerts"})]})]})]})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=2973)}),_N_E=e.O()}]);